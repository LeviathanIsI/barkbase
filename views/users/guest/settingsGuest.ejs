<%- include("../../partials/header.ejs") %>
    <%- include("../../partials/nav.ejs") %>
        <div class="settingsleft">
            <h1>Settings</h1>
            <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center">Name <span
                        class="ms-auto">
                        <%= currentUser.userName %>
                    </span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">Email <span
                        class="ms-auto">
                        <%= currentUser.email %>
                    </span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">Residential Address <span
                        class="ms-auto">
                        <%= currentUser.address %>
                    </span> <a href="#" onclick="openForm()">Edit</a>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">Registered Pets <a
                        href="/">Add Pets</a></li>
                <li class="list-group-item">
                    <a class="changepassword" href="/guest/settings/password"><strong>Change Password</strong></a>
                </li>
                <li class="list-group-item">
                    <form action="/sessions/logout?_method=DELETE" method="POST">
                        <button type="submit" class="signout btn btn-default">
                            <strong>Sign Out</strong>
                        </button>
                    </form>
                </li>
            </ul>
        </div>

        <!-- Pop-up Form Container for Residential Address -->
        <div id="popupForm" class="popup-container" style="display:none;">
            <div class="popup-content">
                <span class="close-btn" onclick="closeForm()">&times;</span>
                <h2>Update Residential Address</h2>
                <form id="updateAddressForm" action="/guest/settings" method="POST">
                    <label for="address">New Address:</label>
                    <input type="text" id="address" name="address">
                    <button type="submit">Update</button>
                </form>
            </div>
        </div>
        <% include("../../partials/footer.ejs") %>

            <script>
                function openForm() {
                    document.getElementById("popupForm").style.display = "block";
                }

                function closeForm() {
                    document.getElementById("popupForm").style.display = "none";
                }
            </script>